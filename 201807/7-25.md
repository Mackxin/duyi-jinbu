# 7.25

## 先来看题目

​	执行下面的代码时，按上面顺序将数字1-4记录到控制台？为什么？

```
(function(){
    console.log(1);
    setTimeout(function(){console.log(2)},1000);
    setTimeout(function(){console.log(3)},0);
    console.log(4);
})();
```

## 揭晓答案啦

我们先来解释一下这些可能更为明显的部分：

- 首先显示1和4，因为它们是通过简单调用console.log()而没有任何延迟记录的
- 在3之后显示，因为在延迟1000毫秒（即1秒）之后记录2，而在0毫秒的延迟之后记录3。

好的。但是，如果在延迟0毫秒后记录3，这是否意味着它正在被立即记录？而且，如果是这样，不应该在4之前记录它，因为4是由后面的代码行记录的吗？

答案与正确理解javascript时间和时间有关。

浏览器有一个时间循环，它检查事件队列并处理未决事件。例如，如果在浏览器繁忙时（例如，处理onclick）在后台发生时间（例如脚本onload事件），则该事件被附加到队列中。当onclick处理程序完成时，将检查队列并处理该事件（例如，执行onload脚本）。

同样，如果浏览器繁忙，setTimeout()也会将其引用函数的执行放入事件队列中。

当值为零作为setTimeout()的第二个参数传递时，它将尝试“尽快”执行指定的函数。具体来说，函数的执行放置在事件队列中，以在下一个计时器滴答时发生。但请注意，这不是直接的；该功能不会执行，直到下一个滴答声。这就是为什么在上面的例子中，调用console.log(4)发生在调用console.log(3)之前（因为调用console.log(3)是通过setTimeout调用的，所以稍微延迟了一点）。